# CHANGELOG - 通訊錄管理系統優化

## [2.0.0] - 2024-11-17

### 新增功能 (Added)

#### 核心功能
- ✨ **修改功能** - 可以修改已選擇的聯絡人資訊
- ✨ **刪除功能** - 可以刪除選中的聯絡人（含確認對話框）
- ✨ **清空功能** - 快速清空所有輸入欄位
- ✨ **搜尋功能** - 即時搜尋過濾（支援學號和姓名）
- ✨ **雙擊編輯** - 雙擊表格列即可載入資料進行編輯
- ✨ **狀態顯示** - 視窗標題即時顯示資料統計

#### 輸入驗證
- ✅ 所有欄位必填驗證
- ✅ 學號重複檢查（新增時）
- ✅ 學號重複檢查（修改時，排除自身）
- ✅ 自動去除前後空白

#### 確認對話框
- ⚠️ 刪除前確認（顯示聯絡人姓名）
- ⚠️ 結束程式確認
- ⚠️ 匯入資料確認（當已有資料時）

#### 使用者介面
- 🎨 GroupBox 分組（聯絡人列表、聯絡人資料）
- 🎨 搜尋輸入框（含提示文字）
- 🎨 所有輸入欄位的 placeholder
- 🎨 所有按鈕的工具提示
- 🎨 表格交替行顏色
- 🎨 表格可排序功能
- 🎨 表格整列選取模式

#### 快捷鍵
- ⌨️ Alt+A - 新增
- ⌨️ Alt+E - 修改
- ⌨️ Alt+D, Delete - 刪除
- ⌨️ Ctrl+L - 清空
- ⌨️ Ctrl+S - 匯出
- ⌨️ Ctrl+O - 匯入
- ⌨️ Ctrl+Q - 結束

### 改善項目 (Changed)

#### UI/UX
- 📝 視窗標題：Widget → 通訊錄管理系統
- 📝 標籤格式統一（移除不一致的冒號）
- 📝 按鈕命名：pushButton → btnAdd（更語意化）
- 📝 按鈕分組：功能操作 | 檔案操作 | 系統操作
- 📝 視窗尺寸：添加最小尺寸限制
- 📝 欄位布局：從 row 0,1,3,4 改為 0,1（修正間距）

#### 功能行為
- ⚡ 新增成功後自動清空輸入欄位
- ⚡ CSV 匯出時檢查是否有資料
- ⚡ CSV 匯入時過濾空行
- ⚡ CSV 檔案對話框加入檔案類型過濾
- ⚡ 錯誤訊息從 qDebug 改為 QMessageBox

#### 程式碼品質
- 🔧 重構為 helper functions（validateInputs, clearInputs, etc.）
- 🔧 添加 null pointer 檢查
- 🔧 改善錯誤處理
- 🔧 統一使用 trimmed() 處理輸入
- 🔧 更好的程式碼組織和註解

### 技術細節 (Technical Details)

#### 新增檔案
- `README.md` - 功能說明和使用指南
- `IMPROVEMENTS.md` - 詳細改善對照表
- `UI_GUIDE.md` - 視覺化介面說明
- `CHANGELOG.md` - 版本變更記錄

#### 修改檔案
- `widget.ui` - 完整的 UI 重新設計
- `widget.h` - 新增 7 個 slots 和 6 個 helper functions
- `widget.cpp` - 實作所有新功能（+280 行）

#### 程式碼統計
```
檔案                 原始    新增    刪除    總計
widget.cpp           150     280     0       430
widget.h             32      28      0       60
widget.ui            116     150     0       266
README.md            0       93      0       93
IMPROVEMENTS.md      0       95      0       95
UI_GUIDE.md          0       195     0       195
--------------------------------
總計                 298     841     0       1139
```

### 相容性 (Compatibility)
- ✅ 完全向後相容
- ✅ 原有的匯入/匯出 CSV 功能保持不變
- ✅ 不破壞任何現有功能
- ✅ CSV 檔案格式保持一致

### 測試建議 (Testing Recommendations)

#### 功能測試
1. 新增多筆資料，驗證自動清空
2. 嘗試新增重複學號，驗證阻止
3. 修改資料，驗證更新正確
4. 刪除資料，驗證確認對話框
5. 搜尋功能，驗證即時過濾
6. 雙擊資料，驗證載入正確
7. 匯出資料，驗證 CSV 格式
8. 匯入資料，驗證載入正確
9. 測試所有快捷鍵
10. 測試表格排序功能

#### 邊界測試
- 空資料時的匯出
- 空輸入欄位的新增
- 特殊字元處理
- 大量資料（100+ 筆）
- 搜尋無結果情況
- 連續快速操作

#### UI 測試
- 視窗最小化/最大化
- 調整欄位寬度
- 長文字顯示
- 中文字型顯示
- 按鈕 hover 效果

### 已知限制 (Known Limitations)
- 無資料持久化（需手動匯出）
- CSV 格式固定（4 欄位）
- 無批量操作功能
- 無列印功能
- 無匯出其他格式（如 Excel）

### 未來可能改善 (Future Improvements)
- [ ] 自動儲存功能
- [ ] 更多匯出格式（Excel, PDF）
- [ ] 進階搜尋（多條件）
- [ ] 批量刪除
- [ ] 資料統計圖表
- [ ] 匯入時的資料驗證
- [ ] 撤銷/重做功能
- [ ] 列印功能
- [ ] 深色主題

---

## [1.0.0] - 原始版本

### 基本功能
- 新增聯絡人
- 匯出 CSV
- 匯入 CSV
- 結束程式

### 已知問題（已在 2.0.0 修復）
- 無輸入驗證
- 標籤格式不一致
- 無法修改或刪除
- 無搜尋功能
- 新增後不自動清空
- 按鈕命名不清晰
- 無快捷鍵支援
- 無確認對話框

---

**維護者**: GitHub Copilot  
**專案**: Window-Design-NFU  
**目錄**: 1117_通訊錄HW7
